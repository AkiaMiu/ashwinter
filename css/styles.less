// VARIABLES

@guild-primary: #ff6a38;
@guild-secondary: #c54800;

@guild-link-color: lighten(@guild-primary, 12%);
@guild-link-visited: darken(@guild-primary, 12%);

@layout-dark-primary: #111;
@layout-dark-secondary: #333;

@layout-light-primary: #ccc;
@layout-light-secondary: #f2f2f2;

@font-face {
    font-family: fujimaru;
    src: url(/fonts/fujimaru.ttf);
}

// STYLES

html {
    scroll-behavior: smooth;

    ::-webkit-scrollbar {
        display: none;
    }

    #layout_wrapper {
        display: flex;
        flex-wrap: wrap;
        overflow: hidden;

        // NAVIGATION
        .fixed_nav {
            position: fixed;
            display: flex;
            justify-content: center;
            flex-direction: row;
            bottom: 2%;
            width: 100%;

            @media screen and (min-width: 768px) {
                flex-direction: column;
                top: 50%;
                left: 1%;
                width: auto;
                transform: translateY(-50%);
            }

            .fixed_nav_btn {
                display: flex;
                position: relative;
                justify-content: center;
                align-items: center;
                background: @layout-dark-secondary;
                border-radius: 50%;
                height: 40px;
                width: 40px;
                padding: 4px;
                margin: 0 .4rem;
                text-decoration: none;
                font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
                font-weight: 500;
                transition: transform .15s ease-in-out, box-shadow .15s ease-in-out;
                box-shadow: 0 0 0 #fff;
                animation: .25s cubic-bezier(.32, 1.15, .51, 1.22) 1 both;
                animation-name: mobile-intro-bounce;
                z-index: 255;

                &:nth-child(1) {
                    animation-delay: 2.2s;
                }

                &:nth-child(2) {
                    animation-delay: 2.3s;
                }

                &:nth-child(3) {
                    animation-delay: 2.4s;
                }

                &:nth-child(4) {
                    animation-delay: 2.5s;
                }

                @media screen and (min-width: 768px) {
                    margin: .4rem 0;
                    animation-name: page-intro-bounce;
                }

                &:after {
                    content: attr(data-tag);
                    display: block;
                    position: absolute;
                    background: @layout-dark-secondary;
                    padding: 12px .4rem 18px .4rem;
                    margin-bottom: 240%;
                    min-width: 75px;
                    clip-path: polygon(0% 0%, 100% 0%, 100% 75%, 50% 100%, 0% 75%);
                    font-size: 12px;
                    text-align: center;
                    text-transform: uppercase;
                    color: @layout-light-secondary;
                    letter-spacing: 1.25px;
                    opacity: 0;
                    pointer-events: none;
                    transition: opacity .2s ease-in-out;

                    @media screen and (min-width: 768px) {
                        top: 0;
                        right: 0;
                        bottom: 0;
                        left: 0;
                        padding: 15px 1rem 13px 1.5rem;
                        margin-left: 115%;
                        margin-bottom: 0%;
                        min-width: 96px;
                        font-size: 14px;
                        clip-path: polygon(0% 50%, 12% 0%, 100% 0%, 100% 100%, 12% 100%, 0% 50%);
                        border-radius: 0 4px 4px 0;
                    }
                }

                .st0 {
                    fill: @layout-light-secondary;
                    transition: fill .15s ease-in-out;
                }

                .st1 {
                    transition: fill .15s ease-in-out;
                }

                &:hover {
                    border: none;

                    &:after {
                        opacity: 1;
                        animation: .2s cubic-bezier(.32, 1.15, .51, 1.22) 1 both;
                        animation-name: tap-bounce;

                        @media screen and (min-width: 768px) {
                            animation: .2s cubic-bezier(.32, 1.15, .51, 1.22) 1 both;
                            animation-name: hover-bounce;
                        }
                    }

                    .st0 {
                        fill: @guild-primary;
                    }

                    .st1 {
                        fill: @guild-secondary;
                    }
                }

                &:active,
                &:focus {
                    box-shadow: 0 0 4px @guild-primary;

                    &:after {
                        opacity: 1;
                    }

                    .st0 {
                        fill: @guild-primary;
                    }

                    .st1 {
                        fill: @guild-secondary;
                    }
                }
            }
        }

        // LAYOUT

        #layout_main {
            section {
                width: 100vw;
                height: 100vh;

                &:nth-of-type(even) {
                    background-color: @layout-dark-primary;
                }

                &#layout_intro {
                    // PARALLAX BACKGROUND
                    background-color: #030303;
                    background-image: url("gfx/home_bg_shadow.png");
                    background-repeat: no-repeat;
                    background-position: top;
                    background-size: cover;
                    background-attachment: fixed;

                    // LOGO
                    .intro_logo {
                        width: 500px;
                        height: auto;
                        margin: 0 auto;
                        padding: 1vh 0 0 0;

                        @media screen and (min-width: 768px) {
                            padding: 15vh 0 0 0;
                        }

                        #ashwinter_crest {
                            stroke-dasharray: 1500;
                            stroke-dashoffset: 1500;
                            animation: intro-draw-crest 1.55s linear forwards;
                            .crest_ring,
                            .crest_dark,
                            .crest_light {
                                opacity: 0;
                                animation: intro-fill-crest .15s linear forwards 1.35s;
                            }
                        }

                        #ashwinter_title {
                            g {
                                path {
                                    fill: rgba(0, 0, 0, 0);
                                    stroke-dasharray: 450;
                                    stroke-dashoffset: 450;
                                    animation: intro-draw-title 2s linear forwards, intro-fill-title .15s linear forwards 1.55s;
                                }
                            }
                        }
                    }
                }

                &#layout_roster {
                    // PARALLAX BACKGROUND
                    background-color: #030303;
                    background-image: url("gfx/roster_bg_shadow.png");
                    background-repeat: no-repeat;
                    background-position: top;
                    background-size: cover;
                    background-attachment: fixed;
                }
            }
        }


    }
}



// NAVIGATION ANIMATIONS
//// DESKTOP

@keyframes page-intro-bounce {
    0% {
        transform: translateX(-150px);
    }

    100% {
        transform: translateX(0);
    }
}

@keyframes hover-bounce {
    0% {
        transform: translateX(125px);
    }

    100% {
        transform: translateX(0);
    }
}

//// MOBILE

@keyframes mobile-intro-bounce {
    0% {
        transform: translateY(150px);
    }

    100% {
        transform: translateY(0);
    }
}

@keyframes tap-bounce {
    0% {
        transform: translateY(-100px);
    }

    100% {
        transform: translateY(0);
    }
}

// TITLE DRAW ANIMATION

@keyframes intro-fill-crest {
    to {
        opacity: 1;
    }
}

@keyframes intro-draw-crest {
    90% {
        stroke-dashoffset: 0;
        stroke-width: .5;
    }
    100% {
        stroke-dashoffset: 0;
        stroke-width: 0;
    }
}

@keyframes intro-draw-title {
    to {
        stroke-dashoffset: 0;
    }
}

@keyframes intro-fill-title {
    to {
        fill: @layout-light-secondary;
    }
}
